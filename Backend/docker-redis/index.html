<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 Docker 運行 Redis | Lynk is here</title><meta name=description content="現代軟體開發中，Docker 成為開發者的好夥伴，它可以讓應用程式在各種環境中輕鬆運行。我們將學習如何用簡單的 Docker 指令，下載、啟動並設定 Redis 容器。"><link rel=icon type=image/x-icon href=/images/favicon.ico><meta property=og:type content=website><meta property=og:url content=https://blog.lynkishere.us.kg><meta property=og:title content="使用 Docker 運行 Redis | Lynk is here"><meta property=og:description content="現代軟體開發中，Docker 成為開發者的好夥伴，它可以讓應用程式在各種環境中輕鬆運行。我們將學習如何用簡單的 Docker 指令，下載、啟動並設定 Redis 容器。"><meta property=og:image content=/images/cover/docker_redis.jpg><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="使用 Docker 運行 Redis | Lynk is here"><meta name=twitter:description content="現代軟體開發中，Docker 成為開發者的好夥伴，它可以讓應用程式在各種環境中輕鬆運行。我們將學習如何用簡單的 Docker 指令，下載、啟動並設定 Redis 容器。"><meta name=twitter:image content=/images/cover/docker_redis.jpg><link rel=stylesheet href=/lib/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css><link rel=stylesheet href=/lib/prismjs/prism.min.css><link rel=stylesheet href=/lib/prismjs/prism-vsc-dark-plus.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hexo 7.3.0"></head><body data-bs-theme=dark><script>const theme=window.localStorage.getItem("theme")??"";document.body.dataset.bsTheme=theme</script><div class="min-vh-100 d-flex flex-column"><nav id=navbar class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm"><div class=container-lg><a id=logo class=navbar-brand href=/ ><img class=me-1 src=/images/logo.png height=50 alt=logo> Lynk is here </a><button class="navbar-toggler px-2" type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent><i class="bi bi-list icon-20"></i></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ms-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/ ><i class="bi bi-house-fill icon-20"></i> 首頁</a></li><li class=nav-item><a class=nav-link href=/archives><i class="bi bi-list-ul icon-20"></i> 列表</a></li><li class=nav-item><a class=nav-link href=/categories><i class="bi bi-folder-fill icon-20"></i> 分類</a></li><li class=nav-item><a class=nav-link href=/tags><i class="bi bi-tags-fill icon-20"></i> 標籤</a></li></ul><div class="d-flex justify-content-center"><button id=toggleThemeBtn class="toggleThemeBtn btn" style=border:none><i class="bi bi-lightbulb-fill icon-20"></i></button> <button id=searchBtn class="searchBtn btn" style=border:none data-bs-toggle=modal data-bs-target=#searchModal><i class="bi bi-search icon-20"></i></button></div></div></div></nav><div class="flex-grow-1 container-lg mt-4 mb-5"><div class=post><h1>使用 Docker 運行 Redis</h1><small class=text-body-secondary><time datetime=2024-02-08T02:21:06.000Z>2024-02-08</time></small><hr><div class="d-flex flex-column gap-2 mb-4"><div><div class="d-flex flex-wrap gap-2"><a href=/categories/Backend/ class="btn btn-secondary btn-sm"><i class="bi bi-folder-fill icon-15"></i> Backend</a></div></div><div><div class="tagLinks d-flex flex-wrap gap-2"><a href=/tags/Docker/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> Docker </a><a href=/tags/Redis/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> Redis</a></div></div></div><div class="text-center mb-4"><img class="img-fluid rounded" width=1200 height=630 src=/images/cover/docker_redis.jpg alt=cover></div><div class=content><p>現代軟體開發中，Docker 成為開發者的好夥伴，它可以讓應用程式在各種環境中輕鬆運行。我們將學習如何用簡單的 Docker 指令，下載、啟動並設定 Redis 容器。</p><h2 id=Step-1-配置-redis-conf><a href=#Step-1-配置-redis-conf class=headerlink title="Step 1 | 配置 redis.conf"></a>Step 1 | 配置 redis.conf</h2><p>先到 Redis 官網中的 <a target=_blank rel=noopener href=https://redis.io/docs/latest/operate/oss_and_stack/management/config/ >Redis configuration</a> 下載對應版本的 Redis 配置文件，範例中我們將採用 Redis 6.2 來進行配置</p><p>將下載的檔案放到一個資料夾並將檔名取為 <code>redis.conf</code>，這裡我們用 <code>~/.redis/redis.conf</code>。即在使用者目錄下創建 <code>.redis</code> 資料夾，並將 <code>redis.conf</code> 配置檔案放進去</p><p>對 <code>redis.conf</code> 添加幾項設定</p><pre class=language-none><code class=language-none>vim ~&#x2F;.redis&#x2F;redis.conf</code></pre><blockquote><p>請注意，這些設定只適合用於本地自行開發時使用，到正式環境時，務必要進行修改，以確保資訊安全</p></blockquote><h3 id=允許所有-ip-連上-Redis><a href=#允許所有-ip-連上-Redis class=headerlink title="允許所有 ip 連上 Redis"></a>允許所有 ip 連上 Redis</h3><pre class=language-none><code class=language-none>bind 0.0.0.0</code></pre><h3 id=設定預設用戶權限與密碼><a href=#設定預設用戶權限與密碼 class=headerlink title=設定預設用戶權限與密碼></a>設定預設用戶權限與密碼</h3><pre class=language-none><code class=language-none>user default +@all ~* on &gt;myPassword</code></pre><table><thead><tr><th>選項</th><th>說明</th></tr></thead><tbody><tr><td>default</td><td>預設用戶名</td></tr><tr><td>+@all</td><td>允許所有操作</td></tr><tr><td>~*</td><td>允許訪問所有鍵</td></tr><tr><td>on</td><td>啟用用戶</td></tr><tr><td>>myPassword</td><td>設定密碼為 myPassword</td></tr></tbody></table><h2 id=Step-2-創建容器><a href=#Step-2-創建容器 class=headerlink title="Step 2 | 創建容器"></a>Step 2 | 創建容器</h2><p>運行以下的 docker 指令</p><pre class=language-none><code class=language-none>docker run -d --name redis-playground \
  -v &#x2F;.redis&#x2F;redis.conf:&#x2F;etc&#x2F;redis&#x2F;redis.conf \
  -v &#x2F;.redis&#x2F;data:&#x2F;data \
  -p 6379:6379 \
  redis:6.2.13 \
  redis-server &#x2F;etc&#x2F;redis&#x2F;redis.conf</code></pre><table><thead><tr><th>選項</th><th>說明</th></tr></thead><tbody><tr><td>docker run -d</td><td>啟動一個 docker 容器並在背景中運行</td></tr><tr><td>--name redis-playground</td><td>將容器命名為 redis-playground</td></tr><tr><td>-v /.redis/redis.conf:/etc/redis/redis.conf</td><td>將本地的 redis.conf 映射到容器中的 redis.conf</td></tr><tr><td>-v /.redis/data:/data</td><td>將容器中存的資料映射到外部資料夾</td></tr><tr><td>-p 6379:6379</td><td>將外部 port 6379 映射到容器內部 port 6379</td></tr><tr><td>redis:6.2.13</td><td>使用 redis image 版本(標籤)為 6.2.13</td></tr><tr><td>redis-server /etc/redis/redis.conf</td><td>使 redis 使用特定的 redis.conf，即使用我們映射的 redis.conf</td></tr></tbody></table><p>隨後我們就可以用 <code>docker ps</code> 指令看到我們成功啟動了一個 Redis 容器</p><p>現在只要用 Redis 的客戶端連上 <code>127.0.0.1:6379</code>，並使用前面所設定的密碼 (此範例為 myPassword)，就可以開始使用</p></div></div></div><footer class="footer border-top text-center py-3"><div class="container-lg text-body-secondary">© Copyright 2024 By Terry Lin</div></footer></div><div class="modal fade" id=searchModal tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-body><div class="position-relative mb-3"><input id=searchInput class=form-control type=search style=padding-left:2.25rem> <span class="position-absolute top-50 translate-middle-y search-icon" style=left:.75rem><i class="bi bi-search"></i></span></div><div id=searchResults class="list-group list-group-flush"></div><div id=searchNoResult class="list-group list-group-flush" style=display:none><span class=list-group-item>查無結果</span></div></div></div></div></div><div class=goTopBtn><button id=goTopBtn class=shadow-sm><i class="bi bi-chevron-up"></i></button></div><script src=/lib/bootstrap/bootstrap.bundle.min.js></script><script src=/lib/prismjs/prism.min.js></script><script src=/lib/fuse/fuse.js></script><script src=/js/utils.js></script><script src=/js/main.js type=module></script></body></html>