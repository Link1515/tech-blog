<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>創建 express 的 typescript 環境 | Lynk is here</title><meta name=description content="本篇文章將從 Node.js 環境創建，安裝相關套件，並配置 TypeScript，逐步完成一個使用 TypeScript 的 Express 應用。"><link rel=icon type=image/x-icon href=/images/favicon.ico><meta property=og:type content=website><meta property=og:url content=https://blog.lynkishere.us.kg><meta property=og:title content="創建 express 的 typescript 環境 | Lynk is here"><meta property=og:description content="本篇文章將從 Node.js 環境創建，安裝相關套件，並配置 TypeScript，逐步完成一個使用 TypeScript 的 Express 應用。"><meta property=og:image content=/images/cover/ts_x_express.jpg><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="創建 express 的 typescript 環境 | Lynk is here"><meta name=twitter:description content="本篇文章將從 Node.js 環境創建，安裝相關套件，並配置 TypeScript，逐步完成一個使用 TypeScript 的 Express 應用。"><meta name=twitter:image content=/images/cover/ts_x_express.jpg><link rel=stylesheet href=/lib/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css><link rel=stylesheet href=/lib/prismjs/prism.min.css><link rel=stylesheet href=/lib/prismjs/prism-vsc-dark-plus.css><link rel=stylesheet href=/css/main.css><meta name=generator content="Hexo 7.3.0"></head><body data-bs-theme=dark><script>const theme=window.localStorage.getItem("theme")??"";document.body.dataset.bsTheme=theme</script><div class="min-vh-100 d-flex flex-column"><nav id=navbar class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm"><div class=container-lg><a id=logo class=navbar-brand href=/ ><img class=me-1 src=/images/logo.png height=50 alt=logo> Lynk is here </a><button class="navbar-toggler px-2" type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent><i class="bi bi-list icon-20"></i></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ms-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/ ><i class="bi bi-house-fill icon-20"></i> 首頁</a></li><li class=nav-item><a class=nav-link href=/archives><i class="bi bi-list-ul icon-20"></i> 列表</a></li><li class=nav-item><a class=nav-link href=/categories><i class="bi bi-folder-fill icon-20"></i> 分類</a></li><li class=nav-item><a class=nav-link href=/tags><i class="bi bi-tags-fill icon-20"></i> 標籤</a></li></ul><div class="d-flex justify-content-center"><button id=toggleThemeBtn class="toggleThemeBtn btn" style=border:none><i class="bi bi-lightbulb-fill icon-20"></i></button> <button id=searchBtn class="searchBtn btn" style=border:none data-bs-toggle=modal data-bs-target=#searchModal><i class="bi bi-search icon-20"></i></button></div></div></div></nav><div class="flex-grow-1 container-lg mt-4 mb-5"><div class=post><h1>創建 express 的 typescript 環境</h1><small class=text-body-secondary><time datetime=2023-11-11T03:37:08.000Z>2023-11-11</time></small><hr><div class="d-flex flex-column gap-2 mb-4"><div><div class="d-flex flex-wrap gap-2"><a href=/categories/Backend/ class="btn btn-secondary btn-sm"><i class="bi bi-folder-fill icon-15"></i> Backend</a></div></div><div><div class="tagLinks d-flex flex-wrap gap-2"><a href=/tags/Express/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> Express </a><a href=/tags/Node-js/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> Node.js </a><a href=/tags/TypeScript/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> TypeScript</a></div></div></div><div class="text-center mb-4"><img class="img-fluid rounded" width=1200 height=630 src=/images/cover/ts_x_express.jpg alt=cover></div><div class=content><p>本篇文章將從 Node.js 環境創建，安裝相關套件，並配置 TypeScript，逐步完成一個使用 TypeScript 的 Express 應用。</p><h2 id=基礎-Express-環境><a href=#基礎-Express-環境 class=headerlink title="基礎 Express 環境"></a>基礎 Express 環境</h2><h3 id=建立-Node-環境><a href=#建立-Node-環境 class=headerlink title="建立 Node 環境"></a>建立 Node 環境</h3><pre class=language-none><code class=language-none>pnpm init</code></pre><h3 id=安裝-Express-與相關套件><a href=#安裝-Express-與相關套件 class=headerlink title="安裝 Express 與相關套件"></a>安裝 Express 與相關套件</h3><pre class=language-none><code class=language-none>pnpm i express
pnpm i -D typescript nodemon ts-node</code></pre><ul><li><a target=_blank rel=noopener href=https://expressjs.com/ >express</a>: Node.js 的 Web Framework</li><li><a target=_blank rel=noopener href=https://nodemon.io/ >nodemon</a>: 修改代碼後，自動重新啟動的開發工具</li><li><a target=_blank rel=noopener href=https://www.typescriptlang.org/ >typescript</a>: 編譯套件，將 TypeScript 編譯為 JavaScript</li><li><a target=_blank rel=noopener href=https://typestrong.org/ts-node/ >ts-node</a>: 可以直接執行 .ts 文件的 Node.js 環境 (開發環境下 nodemon 會使用此套件直接執行 .ts 文件)</li></ul><h3 id=安裝-Node-與-Express-的型別><a href=#安裝-Node-與-Express-的型別 class=headerlink title="安裝 Node 與 Express 的型別"></a>安裝 Node 與 Express 的型別</h3><pre class=language-none><code class=language-none>pnpm i -D @types&#x2F;node @types&#x2F;express</code></pre><ul><li>@types&#x2F;node: node 的型別</li><li>@types&#x2F;express: express 的型別</li></ul><h3 id=修改-package-json-中-scripts><a href=#修改-package-json-中-scripts class=headerlink title="修改 package.json 中 scripts"></a>修改 package.json 中 scripts</h3><pre class=language-json data-language=json><code class=language-json>&quot;scripts&quot;: &#123;
  &quot;dev&quot;: &quot;nodemon index.ts&quot;,
  &quot;build&quot;: &quot;tsc&quot;,
  &quot;start&quot;: &quot;node .&#x2F;dist&#x2F;index.js&quot;
&#125;,</code></pre><h3 id=完整-package-json><a href=#完整-package-json class=headerlink title="完整 package.json"></a>完整 package.json</h3><pre class=language-json data-language=json><code class=language-json>&#123;
  &quot;name&quot;: &quot;express-with-ts&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: &#123;
    &quot;dev&quot;: &quot;nodemon index.ts&quot;,
    &quot;build&quot;: &quot;tsc&quot;,
    &quot;start&quot;: &quot;node .&#x2F;dist&#x2F;index.js&quot;
  &#125;,
  &quot;keywords&quot;: [],
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: &#123;
    &quot;express&quot;: &quot;^4.18.2&quot;
  &#125;,
  &quot;devDependencies&quot;: &#123;
    &quot;@types&#x2F;express&quot;: &quot;^4.17.20&quot;,
    &quot;@types&#x2F;node&quot;: &quot;^20.8.10&quot;,
    &quot;nodemon&quot;: &quot;^3.0.1&quot;,
    &quot;ts-node&quot;: &quot;^10.9.1&quot;,
    &quot;typescript&quot;: &quot;^5.2.2&quot;
  &#125;
&#125;</code></pre><h2 id=基礎-Express-代碼><a href=#基礎-Express-代碼 class=headerlink title="基礎 Express 代碼"></a>基礎 Express 代碼</h2><pre class=language-typescript data-language=typescript><code class=language-typescript>&#x2F;&#x2F; index.js
import express from &#39;express&#39;;

const app &#x3D; express();
const port &#x3D; 3000;

app.get(&#39;&#x2F;&#39;, (req, res) &#x3D;&gt; &#123;
  res.send(&#39;hello&#39;);
&#125;);

app.listen(port, () &#x3D;&gt; &#123;
  console.log(&#96;Example app url: http:&#x2F;&#x2F;localhost:$&#123;port&#125;&#96;);
&#125;);</code></pre><p>此時，可以先執行 <code>pnpm dev</code> 看看能不能成功</p><pre class=language-none><code class=language-none>pnpm dev</code></pre><h2 id=配置-TypeScript><a href=#配置-TypeScript class=headerlink title="配置 TypeScript"></a>配置 TypeScript</h2><h3 id=創建-TypeScript-環境><a href=#創建-TypeScript-環境 class=headerlink title="創建 TypeScript 環境"></a>創建 TypeScript 環境</h3><p>執行 <code>tsc --init</code> 初始化 TypeScript，此時會自動產生 <code>tsconfig.json</code>，裡面已經有預設配置</p><pre class=language-none><code class=language-none>tsc --init</code></pre><h3 id=輸出目錄><a href=#輸出目錄 class=headerlink title=輸出目錄></a>輸出目錄</h3><p>在 tsconfig.json 中搜尋 <code>outDir</code> 配置項，可以配置輸出目錄，此範例中我們設定為 <code>dist</code> (搭配 <code>package.json</code> 中 script 的 start)</p><pre class=language-json data-language=json><code class=language-json>&quot;outDir&quot;: &quot;.&#x2F;dist&quot;</code></pre><h2 id=延伸閱讀><a href=#延伸閱讀 class=headerlink title=延伸閱讀></a>延伸閱讀</h2><p>如此一來，我們就成功建構了能以 TypeScript 開發的 Express 環境</p><p>在此基礎下，可以去參考我寫的其他文章</p><ul><li><a href=/tech-blog/Backend/typescript-express-alias/ >TypeScript Express 設定路徑別名 (Alias)</a></li><li><a href=/tech-blog/Backend/typescript-express-alias/ >Node.js 如何取得圖片的 Mime Types</a></li></ul></div></div></div><footer class="footer border-top text-center py-3"><div class="container-lg text-body-secondary">© Copyright 2024 By Terry Lin</div></footer></div><div class="modal fade" id=searchModal tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-body><div class="position-relative mb-3"><input id=searchInput class=form-control type=search style=padding-left:2.25rem> <span class="position-absolute top-50 translate-middle-y search-icon" style=left:.75rem><i class="bi bi-search"></i></span></div><div id=searchResults class="list-group list-group-flush"></div><div id=searchNoResult class="list-group list-group-flush" style=display:none><span class=list-group-item>查無結果</span></div></div></div></div></div><div class=goTopBtn><button id=goTopBtn class=shadow-sm><i class="bi bi-chevron-up"></i></button></div><script src=/lib/bootstrap/bootstrap.bundle.min.js></script><script src=/lib/prismjs/prism.min.js></script><script src=/lib/fuse/fuse.js></script><script src=/js/utils.js></script><script src=/js/main.js type=module></script></body></html>