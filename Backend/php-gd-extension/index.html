<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>PHP GD 套件使用教學 | Lynk is here</title><meta name=description content="PHP GD 是一個功能強大的圖像處理套件，適合用於動態生成、修改和處理圖像。在這篇教學中，我們將介紹如何使用 GD 套件，並展示其基本功能。"><link rel=icon type=image/x-icon href=/tech-blog/images/favicon.ico><meta property=og:type content=website><meta property=og:url content=https://link1515.github.io/tech-blog><meta property=og:title content="PHP GD 套件使用教學 | Lynk is here"><meta property=og:description content="PHP GD 是一個功能強大的圖像處理套件，適合用於動態生成、修改和處理圖像。在這篇教學中，我們將介紹如何使用 GD 套件，並展示其基本功能。"><meta property=og:image content=/tech-blog/images/cover/php.jpg><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="PHP GD 套件使用教學 | Lynk is here"><meta name=twitter:description content="PHP GD 是一個功能強大的圖像處理套件，適合用於動態生成、修改和處理圖像。在這篇教學中，我們將介紹如何使用 GD 套件，並展示其基本功能。"><meta name=twitter:image content=/tech-blog/images/cover/php.jpg><link rel=stylesheet href=/tech-blog/lib/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css><link rel=stylesheet href=/tech-blog/lib/prismjs/prism.min.css><link rel=stylesheet href=/tech-blog/lib/prismjs/prism-vsc-dark-plus.css><link rel=stylesheet href=/tech-blog/css/main.css><meta name=generator content="Hexo 7.3.0"></head><body data-bs-theme=dark><script>const theme=window.localStorage.getItem("theme")??"";document.body.dataset.bsTheme=theme</script><div class="min-vh-100 d-flex flex-column"><nav id=navbar class="navbar navbar-expand-lg bg-body-tertiary sticky-top shadow-sm"><div class=container-lg><a id=logo class=navbar-brand href=/tech-blog/ ><img class=me-1 src=/tech-blog/images/logo.png height=50 alt=logo> Lynk is here </a><button class="navbar-toggler px-2" type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent><i class="bi bi-list icon-20"></i></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav ms-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=/tech-blog/ ><i class="bi bi-house-fill icon-20"></i> 首頁</a></li><li class=nav-item><a class=nav-link href=/tech-blog/archives><i class="bi bi-list-ul icon-20"></i> 列表</a></li><li class=nav-item><a class=nav-link href=/tech-blog/categories><i class="bi bi-folder-fill icon-20"></i> 分類</a></li><li class=nav-item><a class=nav-link href=/tech-blog/tags><i class="bi bi-tags-fill icon-20"></i> 標籤</a></li></ul><div class="d-flex justify-content-center"><button id=toggleThemeBtn class="toggleThemeBtn btn" style=border:none><i class="bi bi-lightbulb-fill icon-20"></i></button> <button id=searchBtn class="searchBtn btn" style=border:none data-bs-toggle=modal data-bs-target=#searchModal><i class="bi bi-search icon-20"></i></button></div></div></div></nav><div class="flex-grow-1 container-lg mt-4 mb-5"><div class=post><h1>PHP GD 套件使用教學</h1><small class=text-body-secondary><time datetime=2024-11-27T07:29:42.000Z>2024-11-27</time></small><hr><div class="d-flex flex-column gap-2 mb-4"><div><div class="d-flex flex-wrap gap-2"><a href=/tech-blog/categories/Backend/ class="btn btn-secondary btn-sm"><i class="bi bi-folder-fill icon-15"></i> Backend</a></div></div><div><div class="tagLinks d-flex flex-wrap gap-2"><a href=/tech-blog/tags/PHP/ class="btn btn-secondary btn-sm"><i class="bi bi-tag-fill icon-15"></i> PHP</a></div></div></div><div class="text-center mb-4"><img class="img-fluid rounded" width=1200 height=630 src=/tech-blog/images/cover/php.jpg alt=cover></div><div class=content><p>PHP GD 是一個功能強大的圖像處理套件，適合用於動態生成、修改和處理圖像。在這篇教學中，我們將介紹如何使用 GD 套件，並展示其基本功能。</p><blockquote><p>確認是否已經啟用 GD 套件<br>開啟 PHP 設定檔 <code>php.ini</code> 檢查套件是否已經啟用。如果前面有用 ; 註解，就把 ; 去除掉</p><pre class=language-none><code class=language-none>extension&#x3D;gd</code></pre></blockquote><h2 id=創建繪圖區域><a href=#創建繪圖區域 class=headerlink title=創建繪圖區域></a>創建繪圖區域</h2><p>首先要先決定繪製的大小範圍，並調用 <code>imagecreatetruecolor()</code> 創建繪圖區域，也就是我們的圖紙大小</p><p><code>imagecreatetruecolor(width, height)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>$width &#x3D; 400;
$height &#x3D; 300;

$image &#x3D; imagecreatetruecolor($width, $height);</code></pre><h2 id=定義顏色><a href=#定義顏色 class=headerlink title=定義顏色></a>定義顏色</h2><p>GD 套件繪圖時，每個需要用的顏色都需要定義。舉例來說，如果我要用到白色、黑色、紅色、藍色，那就要將這幾的顏色先用 <code>imagecolorallocate()</code> 定義好，像是我們在畫畫前，先把要用的顏料準備好，後續才可以使用</p><p><code>imagecolorallocate(image, red, green, blue)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>$white &#x3D; imagecolorallocate($image, 255, 255, 255);
$black &#x3D; imagecolorallocate($image, 0, 0, 0);
$red   &#x3D; imagecolorallocate($image, 255, 0, 0);
$blue  &#x3D; imagecolorallocate($image, 0, 0, 255);</code></pre><h2 id=繪製><a href=#繪製 class=headerlink title=繪製></a>繪製</h2><p>GD 提供許多函數來繪製圖形，以下舉幾個例子</p><h3 id=填充背景><a href=#填充背景 class=headerlink title=填充背景></a>填充背景</h3><p><code>imagefill(image, x, y, color)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>imagefill($image, 0, 0, $white);</code></pre><h3 id=繪製矩形><a href=#繪製矩形 class=headerlink title=繪製矩形></a>繪製矩形</h3><p>左上角座標 <code>(x1, y1)</code>，右下角座標 <code>(x2, y2)</code></p><p><code>imagerectangle(image, x1, y1, x2, y2, color)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>imagerectangle($image, 50, 50, 350, 250, $red);</code></pre><h3 id=繪製橢圓><a href=#繪製橢圓 class=headerlink title=繪製橢圓></a>繪製橢圓</h3><p>圓心座標 <code>(x, y)</code></p><p><code>imageellipse(image, x, y, width, height, color)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>imageellipse($image, 200, 150, 200, 100, $blue);</code></pre><h3 id=寫文字><a href=#寫文字 class=headerlink title=寫文字></a>寫文字</h3><ul><li>文字左上角為 <code>(x, y)</code></li><li><code>font</code> 內建可以使用 <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code> 五種拉丁字母字型</li></ul><p><code>imagestring(image, font, x, y, string, color)</code></p><pre class=language-PHP data-language=PHP><code class=language-PHP>imagestring($image, 5, 200, 150, &#39;Hello GD!&#39;, $black);</code></pre><h2 id=輸出><a href=#輸出 class=headerlink title=輸出></a>輸出</h2><p>將結果輸出為圖片檔，常用的方法有</p><ul><li><code>imagepng(image, path, quality, filters)</code></li><li><code>imagejpeg(image, path, quality)</code></li></ul><pre class=language-PHP data-language=PHP><code class=language-PHP>imagepng($image, &#39;.&#x2F;my-pic.png&#39;);</code></pre><h2 id=釋放資源><a href=#釋放資源 class=headerlink title=釋放資源></a>釋放資源</h2><p>圖片資源使用完後，使用 <code>imagedestroy()</code> 釋放資源</p><pre class=language-PHP data-language=PHP><code class=language-PHP>imagedestroy($image);</code></pre></div></div></div><footer class="footer border-top text-center py-3"><div class="container-lg text-body-secondary">© Copyright 2024 By Terry Lin</div></footer></div><div class="modal fade" id=searchModal tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-body><div class="position-relative mb-3"><input id=searchInput class=form-control type=search style=padding-left:2.25rem> <span class="position-absolute top-50 translate-middle-y search-icon" style=left:.75rem><i class="bi bi-search"></i></span></div><div id=searchResults class="list-group list-group-flush"></div><div id=searchNoResult class="list-group list-group-flush" style=display:none><span class=list-group-item>查無結果</span></div></div></div></div></div><div class=goTopBtn><button id=goTopBtn class=shadow-sm><i class="bi bi-chevron-up"></i></button></div><script src=/tech-blog/lib/bootstrap/bootstrap.bundle.min.js></script><script src=/tech-blog/lib/prismjs/prism.min.js></script><script src=/tech-blog/lib/fuse/fuse.js></script><script src=/tech-blog/js/utils.js></script><script src=/tech-blog/js/main.js type=module></script></body></html>